<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>{% block title %}UNDO{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

  <style>
    :root{
      --bg:#ffffff; --fg:#0a0a0a; --muted:#6b6b6b; --line:#e9e9e9;
      --radius:16px; --shadow:0 6px 20px rgba(0,0,0,.06);
      --btn:#000; --btnText:#fff;
      --navh:68px; /* Höhe der Bottom-Nav */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:var(--fg);
      padding:28px 18px calc(var(--navh) + 28px); /* Platz für Bottom-Nav */
    }

    .container{max-width:760px;margin:0 auto}
    .main-content{min-height:calc(100vh - var(--navh) - 56px);}

    h1,h2,h3{margin:0 0 12px}
    .sub{color:var(--muted);font-size:14px}

    /* Cards / Blöcke */
    .card{
      background:#fff;
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:16px;
      margin:14px 0;
    }
    .row{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;padding:14px 0;border-top:1px solid var(--line)
    }
    .row:first-child{border-top:none}
    .grow{flex:1 1 auto;text-align:left}
    .title{font-weight:800}
    .muted{color:var(--muted);font-size:14px;margin-top:2px}

    /* Buttons */
    .btn{
      display:inline-block;
      padding:12px 18px;
      border-radius:12px;
      background:var(--btn);
      color:var(--btnText);
      font-weight:800;
      font-size:15px;
      border:none;
      cursor:pointer;
      text-decoration:none;
      text-align:center;
      min-width:160px;
    }
    .btn:hover{filter:brightness(.95)}
    .btn:active{transform:translateY(1px)}
    .btn.ghost{background:#fff;color:#000;border:1px solid #000}
    .btn[disabled]{background:#cfcfcf;color:#555;border:1px solid #bbb;cursor:not-allowed;box-shadow:none}

    /* Inputs */
    input, textarea{
      width:100%;
      padding:12px;
      border:1px solid #ccc;
      border-radius:10px;
      font-size:16px;
    }

    /* Info-Chips */
    .chips{display:flex; gap:12px; flex-wrap:wrap; margin:16px 0}
    .chip{
      flex:1 1 160px;
      display:flex; align-items:center; justify-content:center;
      padding:12px 14px;
      border:1px solid var(--line);
      border-radius:12px;
      background:#fff;
      box-shadow:var(--shadow);
    }

    /* Bottom Navbar */
    nav.undo-nav{
      position:fixed; bottom:0; left:0; right:0;
      height:var(--navh);
      background:#fff; border-top:1px solid var(--line);
      padding:12px 0; display:flex; justify-content:space-around; align-items:center;
      z-index:1000;
    }
    nav.undo-nav a{
      text-decoration:none; color:#000; font-weight:700; font-size:16px;
    }

    /* Utility */
    .center{text-align:center}
    .sp-16{height:16px}
    .sp-20{height:20px}

    @media (min-width:720px){
      body{ padding:40px 22px calc(var(--navh) + 40px); }
    }
  </style>

  {% block head_extra %}{% endblock %}
</head>
<body>
  <div class="container">
    <main class="main-content">
      {% block content %}{% endblock %}
    </main>
  </div>

  {% block navbar %}
    {% if current_user.is_authenticated and not hide_nav %}
      <nav class="undo-nav" role="navigation" aria-label="UN D O Navigation">
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('reflections') }}">Reflections</a>
        <a href="{{ url_for('profile') }}">Profile</a>
      </nav>
    {% endif %}
  {% endblock %}

  {% block scripts %}{% endblock %}
  <script src="{{ url_for('static', filename='swipe.js') }}"></script>
</body>
</html>